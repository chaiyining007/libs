"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _data_session_dom,_is_session_storage=!!window.sessionStorage,_dataSessionDom_name=window.location.hostname||"sessionUserData";if(!_is_session_storage)try{(_data_session_dom=document.createElement("input")).type="hidden",_data_session_dom.style.display="none",_data_session_dom.addBehavior("#default#userData"),document.body.appendChild(_data_session_dom),_data_session_dom.expires=new Date($.date().addDays(365)).toUTCString(),_data_session_dom.load(_dataSessionDom_name)}catch(s){_data_session_dom=null,console.log("userData初始化失败！")}var session_storage=function(s,e){var o;try{if(_is_session_storage){if(null==e)return(o=sessionStorage.getItem(encodeURIComponent(s)))?decodeURIComponent(o):null;sessionStorage.setItem(encodeURIComponent(s),encodeURIComponent(e))}else if(_data_session_dom){if(null==e)return(o=_data_session_dom.getAttribute(s))?decodeURIComponent(o):null;_data_session_dom.setAttribute(s,e),_data_session_dom.save(_dataSessionDom_name)}}catch(s){return!1}},remove_session_storage_item=function(s){_is_session_storage?sessionStorage.removeItem(encodeURIComponent(s)):_data_session_dom&&(_data_session_dom.removeAttribute(encodeURIComponent(s)),_data_session_dom.save(_dataSessionDom_name))},clear_session_storage=function(){_is_session_storage?sessionStorage.clear():_data_session_dom.remove()};exports.clear_session_storage=clear_session_storage,exports.remove_session_storage_item=remove_session_storage_item,exports.session_storage=session_storage;
